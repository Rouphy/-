# 0725

### Ant是什么工具

Ant是一个功能强大的打包编译工具，我们可以使用它里面的build.xml帮我们自动运行Jmeter脚本并将聚合报告JTL（xml）格式编译成html格式的测试报告

### Jenkins是什么工具，你用它完成了什么操作

Jenkins是一个开源的持续集成和持续部署（CI/CD）工具

我们使用它跟Ant完成了定时自动构建Jmeter脚本，并自动生成一个HTML报告

### Jenkins周期构建的日程表中五颗星代表什么

分	时	日	月	周

```
MINUTE HOUR DOM MONTH DOW
```

| MINUTE | Minutes within the hour (0–59)                      |
| ------ | --------------------------------------------------- |
| HOUR   | The hour of the day (0–23)                          |
| DOM    | The day of the month (1–31)                         |
| MONTH  | The month (1–12)                                    |
| DOW    | The day of the week (0–7) where 0 and 7 are Sunday. |

### 接口测试流程/Jmeter接口自动化流程

1. 拿到接口文档熟悉

   - 每个接口对应要实现的功能是什么
   - 服务器的地址、端口、接口地址
   - 请求方式，请求参数有哪些，参数的约束条件是什么，加密方式是什么（工作当中了解请求参数的各种约束条件
   - 熟悉响应数据
     - 响应的字段有哪些
     - 正确和错误的响应码有哪些，对应的响应信息是什么

2. 编写接口测试用例（接口测试用例跟功能类似，只多了一个请求报文，响应报文）

   1. 设计正常异常测试用例，正常验证接口逻辑是否正确，根据接口业务逻辑、输入参数，查看响应数据是否和预期结果一致
   2. 异常用例，不按照接口文档上的要求输入参数，来验证接口对异常情况的校验（参数的类型、参数的长度、参数是否必传、是否加密、关联数据的获取）

3. 接口测试用例评审、执行测试用例

   先建立一个线程组，再添加http请求，填写好请求地址，端口和请求参数，设置参数化，添加断言等，如果有依赖数据进行提取后，在添加查看结果树再运行

   运行完后，检查接口是否通过，如果不通过，先定位下原因，如果是请求的参数有问题，修改后再进行测试，如果是接口本身存在bug，就把服务器上的日志取下来，提单给开发修改，进行回归测试；等到接口bug修复后，就可以放到搭建好的Ant+Jmeter+Jenkins框架上做持续集成测试

4. 最后自动生成接口测试报告，评估接口测试结果，准备功能测试

### jmeter中怎么完成数据回收

1. 在测试计划中添加mysql连接jar包
2. 线程组中添加配置插件-JDBC Connection Configuration
3. 在需要完成数据回收的接口后添加一个JDBC Request，编写sql删除语句并提取到需要被回收的数据
4. 比如说我们接口回收的是订单创建后的orderId，我会在订单创建接口添加一个后置处理器提取到orderId并在JDBC Request中的删除语句中进行调用来实现删除，删除后可以调用订单列表的接口来查看这个订单是否被删除成功

### 断言（assert）的作用

主要在开发或者测试阶段发现和验证代码中的逻辑结果，当设置的断言结果不满足的时候，程序会直接抛出异常，让开发或者测试人员可以快速的查看到响应结果并进行调试，添加断言后就不必等待程序运行后才出现异常的情况

### 常见的断言方式

`a==b`	`a!=b`	`a in b`	`a not in b`